& when (@media-common = true) {
    .block.newsletter {
        .form.subscribe {
            .lib-css(display, flex);
            .lib-css(width, 100%);
        }

        .fieldset,
        .actions {
            .lib-css(display, block);
            .lib-css(width, auto);
        }

        .control::before,
        .control::after {
            .lib-css(display, none);
            .lib-css(content, none);
        }

        input {
            .lib-css(padding-left, 16px);
            .lib-css(margin-right, 0);
        }
    }
}

.media-width(@extremum, @break)
when (@extremum = 'min') and (@break = @screen__m) {
    .block.newsletter {
        .lib-css(width, 100%);
        // Removed max-width: none
    }

    // Add specific rule for newsletter-frame
    .block.newsletter-frame {
        .lib-css(max-width, 1200px);
    }
}

.media-width(@extremum, @break)
when (@extremum = 'max') and (@break = @screen__m) {
    body {
        .block.newsletter-frame {
            .newsletter-form {
                .lib-css(flex-direction, column);
                .lib-css(padding, 0);
            }
        }
    }
}

.block.newsletter-frame {
    .lib-css(width, 100%);
    .lib-css(max-width, 1200px);
    .lib-css(margin-left, auto);
    .lib-css(margin-right, auto);
    .lib-css(padding-left, 15px);
    .lib-css(padding-right, 15px);
    .lib-css(box-sizing, border-box);

    .newsletter-title {
        .lib-css(text-align, center);
        .lib-css(font-size, 32px);
        .lib-css(font-weight, 700);
        .lib-css(margin-bottom, 24px);

        .highlight {
            .lib-css(color, #005cff);
        }
    }

    .newsletter-box {
        .lib-css(width, 100%);
        .lib-css(background, #f5f5f5);
        .lib-css(padding, 14px);
        .lib-css(border-radius, 12px);
        .lib-css(box-sizing, border-box);
    }

    .newsletter-form {
        .lib-css(display, flex);
        .lib-css(flex-direction, row);
        .lib-css(align-items, center);
        .lib-css(gap, 16px);
        .lib-css(width, 100%);
        .lib-css(margin, 0);
    }

    .field {
        .lib-css(margin, 0);
    }

    input[type="text"],
    input[type="email"] {
        .lib-css(width, 280px);
        .lib-css(height, 48px);
        .lib-css(border-radius, 8px);
        .lib-css(background, #fff);
        .lib-css(border, none);
        .lib-css(padding, 0 16px);
        .lib-css(font-size, 14px);
        .lib-css(box-sizing, border-box);
    }

    .newsletter-privacy {
        label {
            .lib-css(display, flex);
            .lib-css(align-items, center);
            .lib-css(gap, 8px);
            .lib-css(font-size, 12px);
            .lib-css(color, #656565);

            a {
                .lib-css(text-decoration, underline);
                .lib-css(color, inherit);
            }
        }
    }

    .actions {
        .lib-css(margin-left, auto);
        .lib-css(margin-right, 0);

        button {
            .lib-css(height, 48px);
            .lib-css(padding, 0 28px);
            .lib-css(border-radius, 8px);
            .lib-css(background, #005cff);
            .lib-css(color, #fff);
            .lib-css(font-weight, 600);
            .lib-css(white-space, nowrap);
            .lib-css(margin, 0);
        }
    }
}
